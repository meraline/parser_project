# üöÄ Auto Reviews Parser

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤ —Å drom.ru —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –∑–∞—â–∏—Ç–æ–π –æ—Ç –±–∞–Ω–æ–≤.

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–∑—ã–≤–æ–≤ —Å –ø–æ–ª–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
- üí¨ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –æ—Ç–∑—ã–≤–∞–º  
- üõ°Ô∏è –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç IP-–±–∞–Ω–æ–≤
- üöÄ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (12,800+ –æ—Ç–∑—ã–≤–æ–≤/—á–∞—Å)
- üíæ –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
- üìà –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ checkpoint'–æ–≤
- üåô –£–º–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –∏ –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º

## üéØ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd scripts/parsing
python optimal_parser.py
```

**–ü—Ä–æ–≥–Ω–æ–∑:** 3-4 –¥–Ω—è –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ—Ö 1,141,479 –æ—Ç–∑—ã–≤–æ–≤

### –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º
```bash
cd scripts/parsing  
python full_parsing_system.py
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
cd scripts/parsing
python benchmark_parsing.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üì¶ parser_project/
‚îú‚îÄ‚îÄ üìÅ src/                          # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –ø–∞—Ä—Å–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ auto_reviews_parser/         # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ       ‚îú‚îÄ‚îÄ parsers/                 # –ü–∞—Ä—Å–µ—Ä—ã (DromParser)
‚îÇ       ‚îú‚îÄ‚îÄ models/                  # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Review, Comment)
‚îÇ       ‚îú‚îÄ‚îÄ database/                # –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ       ‚îú‚îÄ‚îÄ services/                # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ utils/                   # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ üìÅ scripts/                      # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ parsing/                  # üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ testing/                  # üß™ –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ debugging/                # üêõ –û—Ç–ª–∞–¥–æ—á–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ analysis/                 # üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ demo/                     # üé≠ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ üìÅ data/                         # –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ üìÅ databases/                # üíæ –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite
‚îÇ   ‚îî‚îÄ‚îÄ üìÅ exports/                  # üì§ –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ üìÅ docs/                         # üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìÅ tests/                        # ‚úÖ Unit —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ üìÅ logs/                         # üìù –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:
- **8 –ø–æ—Ç–æ–∫–æ–≤** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- **1.5-3 —Å–µ–∫—É–Ω–¥—ã** –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- **600 –∑–∞–ø—Ä–æ—Å–æ–≤/—á–∞—Å** —Å –∞–≤—Ç–æ–∫–æ–Ω—Ç—Ä–æ–ª–µ–º
- **–ù–æ—á–Ω–æ–µ –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ** –Ω–∞ 40%
- **–ü–∞–∫–µ—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –∫–∞–∂–¥—ã–µ 50 –æ—Ç–∑—ã–≤–æ–≤

## üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –±–∞–Ω–æ–≤

1. **–£–º–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏** - –∞–≤—Ç–æ–∫–æ–Ω—Ç—Ä–æ–ª—å –ª–∏–º–∏—Ç–æ–≤
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É
3. **–ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º** - –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤ –∞–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Å—ã
4. **–î–µ—Ç–µ–∫—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—É–∑—ã
5. **–†–æ—Ç–∞—Ü–∏—è User-Agent** - –∏–º–∏—Ç–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ë–µ–Ω—á–º–∞—Ä–∫ –Ω–∞ 20 –æ—Ç–∑—ã–≤–∞—Ö:**
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 95% (19/20)
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è: 39.2 —Å–µ–∫/–æ—Ç–∑—ã–≤
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: 45 —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω—ã

**–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞:**
- –í—Å–µ–≥–æ –æ—Ç–∑—ã–≤–æ–≤: 1,141,479
- –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: 3.7 –¥–Ω—è
- –°–∫–æ—Ä–æ—Å—Ç—å: ~12,800 –æ—Ç–∑—ã–≤–æ–≤/—á–∞—Å

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω–∞—è —Å—Ö–µ–º–∞:
```sql
-- –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–∑—ã–≤–æ–≤
reviews (
    id INTEGER PRIMARY KEY,
    –±—Ä–µ–Ω–¥ TEXT,
    –º–æ–¥–µ–ª—å TEXT, 
    –∞–≤—Ç–æ—Ä TEXT,
    –≥–æ—Ä–æ–¥ TEXT,
    –æ–±—â–∞—è_–æ—Ü–µ–Ω–∫–∞ REAL,
    -- ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
)

-- –¢–∞–±–ª–∏—Ü–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤  
comments (
    id INTEGER PRIMARY KEY,
    –æ—Ç–∑—ã–≤_id INTEGER,
    –∞–≤—Ç–æ—Ä TEXT,
    —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ TEXT,
    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–ª–∞–π–∫–æ–≤ INTEGER,
    –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_–¥–∏–∑–ª–∞–π–∫–æ–≤ INTEGER,
    -- ... –¥—Ä—É–≥–∏–µ –ø–æ–ª—è
)
```

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### –ü–∞—Ä—Å–∏–Ω–≥ (`scripts/parsing/`)
- `optimal_parser.py` - **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–µ—Ä** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `full_parsing_system.py` - –ü–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º
- `catalog_extractor.py` - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –±—Ä–µ–Ω–¥–æ–≤
- `benchmark_parsing.py` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`scripts/testing/`)
- `test_parser.py` - –ë–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞
- `test_comments_parsing.py` - –¢–µ—Å—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- `test_characteristics.py` - –¢–µ—Å—Ç—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫

### –ê–Ω–∞–ª–∏–∑ (`scripts/analysis/`)
- `analyze_reviews.py` - –ê–Ω–∞–ª–∏–∑ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
- `check_db_schema.py` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –ë–î
- `update_main_database.py` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –ë–î

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/FINAL_PARSING_GUIDE.md` - **–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É**
- `docs/README.md` - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/REPORT.md` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <repository_url>
cd parser_project
```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã:**
```bash
cd scripts/testing
python test_parser.py
```

5. **–ù–∞—á–Ω–∏—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥:**
```bash
cd scripts/parsing
python optimal_parser.py
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã:
- `logs/` - –û–±—â–∏–µ –ª–æ–≥–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `full_parsing.log` - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –ø–æ–ª–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞
- `parser_debug.log` - –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### Checkpoint'—ã:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 1000 –æ—Ç–∑—ã–≤–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å –ª—é–±–æ–π —Ç–æ—á–∫–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

## ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –†–µ–∂–∏–º | –ü–æ—Ç–æ–∫–∏ | –°–∫–æ—Ä–æ—Å—Ç—å | –í—Ä–µ–º—è (1M –æ—Ç–∑—ã–≤–æ–≤) | –†–∏—Å–∫ –±–∞–Ω–∞ |
|-------|--------|----------|-------------------|-----------|
| –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π | 12 | 15,000/—á–∞—Å | 2.8 –¥–Ω—è | –í—ã—Å–æ–∫–∏–π |
| **–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π** | **8** | **12,800/—á–∞—Å** | **3.7 –¥–Ω—è** | **–ù–∏–∑–∫–∏–π** |
| –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π | 5 | 8,000/—á–∞—Å | 5.9 –¥–Ω—è | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π |

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ feature –≤–µ—Ç–∫—É
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É](docs/FINAL_PARSING_GUIDE.md)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç](docs/REPORT.md)
- [–¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](scripts/parsing/benchmark_parsing.py)

---

**üéØ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–º—É –ø–∞—Ä—Å–∏–Ω–≥—É 1M+ –æ—Ç–∑—ã–≤–æ–≤ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é!**
