# –û—Ç—á–µ—Ç –æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –û–±–∑–æ—Ä
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ–º:
- **70% Unit —Ç–µ—Å—Ç–æ–≤** - –±—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
- **20% Integration —Ç–µ—Å—Ç–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π  
- **10% E2E —Ç–µ—Å—Ç–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤
- **Unit —Ç–µ—Å—Ç—ã**: 17 —Ç–µ—Å—Ç–æ–≤
- **Integration —Ç–µ—Å—Ç—ã**: 10 —Ç–µ—Å—Ç–æ–≤
- **E2E —Ç–µ—Å—Ç—ã**: 11 —Ç–µ—Å—Ç–æ–≤
- **–û–±—â–∏–π –ø–æ–∫—Ä—ã—Ç–∏–µ**: 38 —Ç–µ—Å—Ç–æ–≤

### üß™ Unit —Ç–µ—Å—Ç—ã (70%)
**–§–∞–π–ª**: `tests/unit/test_review_model.py`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ Review
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

**–§–∞–π–ª**: `tests/unit/test_html_parser.py`
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞ HTML
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

**–§–∞–π–ª**: `tests/unit/test_database_config.py`
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è URL –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

**–§–∞–π–ª**: `tests/unit/test_validators.py`
- –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üîß Integration —Ç–µ—Å—Ç—ã (20%)
**–§–∞–π–ª**: `tests/integration/test_database_integration.py`
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –æ—Ç–∫–∞—Ç—ã
- –ü—É–ª—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã

**–§–∞–π–ª**: `tests/integration/test_api_integration.py`
- HTTP –∑–∞–ø—Ä–æ—Å—ã
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏
- –ú–µ—Ö–∞–Ω–∏–∑–º—ã –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–∫–æ—Ä–æ—Å—Ç–∏

### üöÄ E2E —Ç–µ—Å—Ç—ã (10%)
**–§–∞–π–ª**: `tests/e2e/test_full_parsing_cycle.py`
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–∞—Ä—Å–∏–Ω–≥–∞
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–§–∞–π–ª**: `tests/e2e/test_critical_scenarios.py`
- –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
- –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞ –±—Ä–µ–Ω–¥–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ —Å–±–æ–µ–≤

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üìù pytest.ini
```ini
[tool:pytest]
minversion = 6.0
addopts = 
    --strict-markers
    --strict-config
    --verbose
    --tb=short
    --cov=src
    --cov-report=html:tests/reports/coverage
    --cov-report=term-missing
    --cov-fail-under=85

testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

markers =
    unit: Unit tests - –±—ã—Å—Ç—Ä—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    integration: Integration tests - —Ç–µ—Å—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    e2e: End-to-end tests - –ø–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
    slow: –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
    db: –¢–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
    network: –¢–µ—Å—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã
    smoke: Smoke tests - –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
```

### üîß conftest.py
–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å:
- –§–∏–∫—Å—Ç—É—Ä–∞–º–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–∫-–æ–±—ä–µ–∫—Ç–∞–º–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–µ–π —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

## –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚ö° –ë—ã—Å—Ç—Ä–æ—Ç–∞ (Unit —Ç–µ—Å—Ç—ã)
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –≤—ã–∑–æ–≤–æ–≤
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è < 100–º—Å –Ω–∞ —Ç–µ—Å—Ç

### üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (Integration —Ç–µ—Å—Ç—ã)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏ (–º–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

### üéØ –ü–æ–ª–Ω–æ—Ç–∞ (E2E —Ç–µ—Å—Ç—ã)
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –ú–∞—Ä–∫–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤

| –ú–∞—Ä–∫–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|--------|----------|---------------|
| `@pytest.mark.unit` | Unit —Ç–µ—Å—Ç—ã | –ë—ã—Å—Ç—Ä—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã |
| `@pytest.mark.integration` | Integration —Ç–µ—Å—Ç—ã | –¢–µ—Å—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π |
| `@pytest.mark.e2e` | E2E —Ç–µ—Å—Ç—ã | –ü–æ–ª–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ |
| `@pytest.mark.slow` | –ú–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã | –¢–µ—Å—Ç—ã > 1 —Å–µ–∫—É–Ω–¥—ã |
| `@pytest.mark.db` | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | –¢—Ä–µ–±—É—é—Ç –ë–î |
| `@pytest.mark.network` | –°–µ—Ç—å | –¢—Ä–µ–±—É—é—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç |
| `@pytest.mark.smoke` | Smoke —Ç–µ—Å—Ç—ã | –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ |

## –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞

### –í—Å–µ —Ç–µ—Å—Ç—ã
```bash
pytest
```

### –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```bash
# Unit —Ç–µ—Å—Ç—ã
pytest -m unit

# Integration —Ç–µ—Å—Ç—ã  
pytest -m integration

# E2E —Ç–µ—Å—Ç—ã
pytest -m e2e

# Smoke —Ç–µ—Å—Ç—ã
pytest -m smoke
```

### –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞
```bash
pytest --cov=src --cov-report=html
```

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
pytest -n auto
```

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

–¶–µ–ª—å: **85% –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ**

### –û—Ç—á–µ—Ç—ã
- HTML –æ—Ç—á–µ—Ç: `tests/reports/coverage/index.html`
- Terminal –æ—Ç—á–µ—Ç: –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤
- Fail if coverage < 85%

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
- **E2E —Ç–µ—Å—Ç—ã**: 11/11 ‚úÖ (100% –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ)
- **Unit —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏**: 4/17 ‚úÖ (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- **Unit —Ç–µ—Å—Ç—ã –º–æ–¥–µ–ª–∏**: –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π
- **Integration —Ç–µ—Å—Ç—ã**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (psycopg2, requests)
- **Unit —Ç–µ—Å—Ç—ã –ø–∞—Ä—Å–µ—Ä–∞**: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ BeautifulSoup

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### üîß –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install psycopg2-binary requests beautifulsoup4
   ```

2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ–ª–µ–π –≤ –º–æ–¥–µ–ª–∏ Review

3. –°–æ–∑–¥–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### üìà –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
1. –î–æ–±–∞–≤–∏—Ç—å mutation testing
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CI/CD
3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
4. Property-based testing
5. Performance benchmarking

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –∑–∞–¥–∞–Ω–Ω–æ–º—É —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—é 70/20/10. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É —Ä–∞–∑–≤–∏—Ç–∏—é. E2E —Ç–µ—Å—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞ unit/integration —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã.
