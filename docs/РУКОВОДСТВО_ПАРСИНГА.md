# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É –æ—Ç–∑—ã–≤–æ–≤ Drom.ru

## üìã –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ú–µ—Ç–æ–¥—ã –∑–∞–ø—É—Å–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

#### üî∏ –ß–µ—Ä–µ–∑ –±—ã—Å—Ç—Ä—ã–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö)
```bash
# –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ –∞–∫—Ç–∏–≤–Ω–æ)
conda activate parser_project

# –ü–∞—Ä—Å–∏–Ω–≥ —Ç–æ–ø –±—Ä–µ–Ω–¥–æ–≤ —Å –ª–∏–º–∏—Ç–æ–º 20 –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –º–æ–¥–µ–ª—å
./quick_start.sh reviews

# –ü–∞—Ä—Å–∏–Ω–≥ –∫–∞—Ç–∞–ª–æ–≥–∞ (–±—Ä–µ–Ω–¥—ã + –º–æ–¥–µ–ª–∏)
./quick_start.sh catalog
```

#### üî∏ –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
```bash
python simple_menu.py
# –í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç "–ü–∞—Ä—Å–∏–Ω–≥" ‚Üí "–ü–∞—Ä—Å–∏—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–∑—ã–≤—ã"
```

#### üî∏ –¢–µ—Å—Ç–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ (10 –æ—Ç–∑—ã–≤–æ–≤ Toyota Camry)
```bash
python scripts/parsing/parse_10_reviews.py
```

#### üî∏ –†—É—á–Ω–æ–π –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞
```bash
python scripts/parsing/parse_reviews.py --brand toyota --limit 50
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–∏–º–∏—Ç–æ–≤

### 1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ –≤ quick_start.sh
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `quick_start.sh` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É 139:
```bash
await parser.parse_short_reviews(brand_name=brand, limit=20)
```
–ò–∑–º–µ–Ω–∏—Ç–µ `limit=20` –Ω–∞ –Ω—É–∂–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä `limit=100`.

### 2. –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ –∫–æ–¥–µ
–§–∞–π–ª: `src/auto_reviews_parser/config.py`
```python
class Config:
    MAX_REVIEWS_PER_MODEL = 1000    # –ú–∞–∫—Å–∏–º—É–º –æ—Ç–∑—ã–≤–æ–≤ –Ω–∞ –º–æ–¥–µ–ª—å
    PAGES_PER_SESSION = 50          # –°—Ç—Ä–∞–Ω–∏—Ü –∑–∞ —Å–µ—Å—Å–∏—é
    MIN_DELAY = 5                   # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (—Å–µ–∫)
    MAX_DELAY = 15                  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (—Å–µ–∫)
```

### 3. –õ–∏–º–∏—Ç—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤
```bash
# 50 –æ—Ç–∑—ã–≤–æ–≤ –¥–ª—è Toyota
python scripts/parsing/parse_reviews.py --brand toyota --limit 50

# 200 –æ—Ç–∑—ã–≤–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π –±—Ä–µ–Ω–¥–∞
python scripts/parsing/parse_reviews.py --brand mazda --limit 200
```

---

## üíæ –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∑—ã–≤–∞
- **–ö–∞–∂–¥—ã–π —É—Å–ø–µ—à–Ω–æ —Å–ø–∞—Ä—Å–µ–Ω–Ω—ã–π –æ—Ç–∑—ã–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ù–ï–ú–ï–î–õ–ï–ù–ù–û** –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ—Ö–∞–Ω–∏–∑–º `INSERT OR IGNORE` - –¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- –ö–∞–∂–¥—ã–π –æ—Ç–∑—ã–≤ –∏–º–µ–µ—Ç `content_hash` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏

### üìä –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
```sql
-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã –∫–æ—Ä–æ—Ç–∫–∏–µ_–æ—Ç–∑—ã–≤—ã
- id (–∞–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç)
- brand_id (—Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π –±—Ä–µ–Ω–¥—ã)
- model_id (—Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π –º–æ–¥–µ–ª–∏)  
- author_id (—Å–≤—è–∑—å —Å —Ç–∞–±–ª–∏—Ü–µ–π –∞–≤—Ç–æ—Ä—ã)
- year (–≥–æ–¥ –∞–≤—Ç–æ)
- engine_volume (–æ–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è)
- fuel_type (—Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞)
- transmission (–∫–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á)
- drive_type (–ø—Ä–∏–≤–æ–¥)
- positive_text (–ø–ª—é—Å—ã)
- negative_text (–º–∏–Ω—É—Å—ã)
- breakages_text (–ø–æ–ª–æ–º–∫–∏)
- content_hash (—Ö–µ—à –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏)
- created_at (–≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è)
```

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```bash
# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
python show_stats.py

# –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
python show_detailed_data.py

# –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
python simple_menu.py
# –í—ã–±–µ—Ä–∏—Ç–µ "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö" ‚Üí "–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É"
```

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞

### –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫:
- ‚úÖ –°–ª—É—á–∞–π–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ 5-15 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ –†–æ—Ç–∞—Ü–∏—è User-Agent –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ 429 (–ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—É–∑—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö (30 —Å–µ–∫)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –ø–∞—É–∑—ã –ø—Ä–∏ rate limit (5 –º–∏–Ω—É—Ç)

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Å—Å–∏–π:
```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Å–µ—Å—Å–∏–∏_–ø–∞—Ä—Å–∏–Ω–≥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:
- –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞/–æ–∫–æ–Ω—á–∞–Ω–∏—è
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞—Ä—Å–µ–Ω–Ω—ã—Ö –æ—Ç–∑—ã–≤–æ–≤
- –°—Ç–∞—Ç—É—Å (active/completed/error)
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–∞—Ä—Å–∏–Ω–≥–∞
```

---

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Ü–µ—Å—Å–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
```bash
python show_stats.py
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—Ä–µ–Ω–¥–æ–≤: 3
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π: 12  
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä–æ—Ç–∫–∏—Ö –æ—Ç–∑—ã–≤–æ–≤: 4
- –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞: 0

### –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
```bash
python show_detailed_data.py
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –±—Ä–µ–Ω–¥–∞–º, –º–æ–¥–µ–ª—è–º –∏ –æ—Ç–∑—ã–≤–∞–º.

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü–∞—Ä—Å–∏–Ω–≥ 50 –æ—Ç–∑—ã–≤–æ–≤ Toyota
```bash
# –°–ø–æ—Å–æ–± 1: –ò–∑–º–µ–Ω–∏—Ç—å –ª–∏–º–∏—Ç –≤ quick_start.sh
sed -i 's/limit=20/limit=50/' quick_start.sh
./quick_start.sh reviews

# –°–ø–æ—Å–æ–± 2: –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ —Å–∫—Ä–∏–ø—Ç–∞
python scripts/parsing/parse_reviews.py --brand toyota --limit 50
```

### –ü—Ä–∏–º–µ—Ä 2: –ú–∞—Å—Å–æ–≤—ã–π –ø–∞—Ä—Å–∏–Ω–≥ —Ç–æ–ø-5 –±—Ä–µ–Ω–¥–æ–≤
```bash
# –í quick_start.sh —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã: toyota, mazda, honda, nissan, subaru
./quick_start.sh reviews
```

### –ü—Ä–∏–º–µ—Ä 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –º–∞–ª–æ–º –æ–±—ä–µ–º–µ
```bash
# 10 –æ—Ç–∑—ã–≤–æ–≤ Toyota Camry –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
python scripts/parsing/parse_10_reviews.py
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–î—É–±–ª–∏–∫–∞—Ç—ã**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–∑—ã–≤—ã
2. **–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ**: –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø—Ä–µ—Ä–≤–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ (Ctrl+C) - —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞–Ω—É—Ç—Å—è
3. **–í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å
4. **–õ–∏–º–∏—Ç—ã —Å–∞–π—Ç–∞**: –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–∞—Ä—Å–∏—Ç—å –±–æ–ª–µ–µ 1000 –æ—Ç–∑—ã–≤–æ–≤ –∑–∞ —Ä–∞–∑ –±–µ–∑ –ø–µ—Ä–µ—Ä—ã–≤–æ–≤

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –ø–∞—Ä—Å–∏–Ω–≥ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
conda list | grep -E "(requests|beautifulsoup4|lxml)"

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
conda install -c conda-forge requests beautifulsoup4 lxml -y
```

### –ï—Å–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
python -c "import asyncpg; print('PostgreSQL –¥–æ—Å—Ç—É–ø–µ–Ω')"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ config.py
```

### –ï—Å–ª–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏ 429:
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–∏—Ç –∑–∞–¥–µ—Ä–∂–∫–∏
- –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ
- –£–º–µ–Ω—å—à–∏—Ç–µ –ª–∏–º–∏—Ç—ã –ø–∞—Ä—Å–∏–Ω–≥–∞

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
python simple_menu.py
# –í—ã–±–µ—Ä–∏—Ç–µ "–ü–æ–º–æ—â—å –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"
```

**–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ! üéâ**
